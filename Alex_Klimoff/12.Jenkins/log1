Started by user Alex Klimoff
[Pipeline] Start of Pipeline
[Pipeline] node
Running on ansible-1 in /home/vagrant/jenkins_home/workspace/11.Jenkins
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Pull docker and run)
[Pipeline] sh
+ docker pull klimoff/belhard:latest
latest: Pulling from klimoff/belhard
Digest: sha256:ed1fa64961eaeabdfc54f22cdfb37fade998005d8a5d5e4d7022296f13bee312
Status: Image is up to date for klimoff/belhard:latest
docker.io/klimoff/belhard:latest
+ docker run klimoff/belhard:latest
fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz
v3.15.3-21-g2745de7e1b [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]
v3.15.3-17-ge0ce01e898 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]
OK: 15861 distinct packages available
(1/25) Installing ncurses-terminfo-base (6.3_p20211120-r0)
(2/25) Installing ncurses-libs (6.3_p20211120-r0)
(3/25) Installing readline (8.1.1-r0)
(4/25) Installing bash (5.1.16-r0)
Executing bash-5.1.16-r0.post-install
(5/25) Installing ca-certificates (20211220-r0)
(6/25) Installing brotli-libs (1.0.9-r5)
(7/25) Installing nghttp2-libs (1.46.0-r0)
(8/25) Installing libcurl (7.80.0-r0)
(9/25) Installing curl (7.80.0-r0)
(10/25) Installing expat (2.4.7-r0)
(11/25) Installing pcre2 (10.39-r0)
(12/25) Installing git (2.34.1-r0)
(13/25) Installing libbz2 (1.0.8-r1)
(14/25) Installing libffi (3.4.2-r1)
(15/25) Installing gdbm (1.22-r0)
(16/25) Installing xz-libs (5.2.5-r0)
(17/25) Installing libgcc (10.3.1_git20211027-r0)
(18/25) Installing libstdc++ (10.3.1_git20211027-r0)
(19/25) Installing mpdecimal (2.5.1-r1)
(20/25) Installing sqlite-libs (3.36.0-r0)
(21/25) Installing python3 (3.9.7-r4)
(22/25) Installing speedtest-cli (2.1.3-r1)
(23/25) Installing libunistring (0.9.10-r1)
(24/25) Installing libidn2 (2.3.2-r0)
(25/25) Installing wget (1.21.2-r2)
Executing busybox-1.34.1-r3.trigger
Executing ca-certificates-20211220-r0.trigger
OK: 73 MiB in 39 packages
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Initial config)
[Pipeline] script
[Pipeline] {
[Pipeline] properties
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Checkout Git)
[Pipeline] git
The recommended git tool is: NONE
No credentials specified
Fetching changes from the remote Git repository
Checking out Revision a5a0c10dc0aed384ed3a3428523d20d56d2e67a5 (refs/remotes/origin/bh-devops-01-22)
Commit message: "update readme"
 > git rev-parse --resolve-git-dir /home/vagrant/jenkins_home/workspace/11.Jenkins/.git # timeout=10
 > git config remote.origin.url https://github.com/klimoffgod/belhard-devops.git # timeout=10
Fetching upstream changes from https://github.com/klimoffgod/belhard-devops.git
 > git --version # timeout=10
 > git --version # 'git version 2.17.1'
 > git fetch --tags --progress -- https://github.com/klimoffgod/belhard-devops.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/bh-devops-01-22^{commit} # timeout=10
 > git config core.sparsecheckout # timeout=10
 > git checkout -f a5a0c10dc0aed384ed3a3428523d20d56d2e67a5 # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D bh-devops-01-22 # timeout=10
 > git checkout -b bh-devops-01-22 a5a0c10dc0aed384ed3a3428523d20d56d2e67a5 # timeout=10
 > git rev-list --no-walk a5a0c10dc0aed384ed3a3428523d20d56d2e67a5 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (List repository)
[Pipeline] sh
+ ls -la
total 40
drwxrwxr-x  9 vagrant vagrant 4096 Apr  3 16:41 .
drwxrwxr-x 12 vagrant vagrant 4096 Apr  4 08:10 ..
drwxrwxr-x  8 vagrant vagrant 4096 Apr  4 14:17 .git
drwxrwxr-x  9 vagrant vagrant 4096 Apr  3 16:41 Alex_Klimoff
drwxrwxr-x  4 vagrant vagrant 4096 Apr  3 16:41 Artsiom_Beladzedau
drwxrwxr-x  6 vagrant vagrant 4096 Apr  3 16:41 Eduard_Danilov
drwxrwxr-x  3 vagrant vagrant 4096 Apr  3 16:41 Olga_Peisahovich
-rw-rw-r--  1 vagrant vagrant 2287 Apr  3 16:41 README.md
drwxrwxr-x  6 vagrant vagrant 4096 Apr  3 16:41 Viktor_Brilevich
drwxrwxr-x  4 vagrant vagrant 4096 Apr  3 16:41 avoloshchik
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (apt update and install)
[Pipeline] sh
+ docker run --tty klimoff/belhard speedtest-cli
fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz
v3.15.3-21-g2745de7e1b [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]
v3.15.3-17-ge0ce01e898 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]
OK: 15861 distinct packages available
(1/25) Installing ncurses-terminfo-base (6.3_p20211120-r0)
7  0%                                             8(2/25) Installing ncurses-libs (6.3_p20211120-r0)
7  0%                                             8(3/25) Installing readline (8.1.1-r0)
7  1%                                             8(4/25) Installing bash (5.1.16-r0)
7  1%                                             87  2% #                                           87  3% #                                           8Executing bash-5.1.16-r0.post-install
(5/25) Installing ca-certificates (20211220-r0)
7  3% #                                           87  4% #                                           8(6/25) Installing brotli-libs (1.0.9-r5)
7  4% #                                           87  4% ##                                          8(7/25) Installing nghttp2-libs (1.46.0-r0)
7  5% ##                                          8(8/25) Installing libcurl (7.80.0-r0)
7  5% ##                                          8(9/25) Installing curl (7.80.0-r0)
7  6% ##                                          8(10/25) Installing expat (2.4.7-r0)
7  6% ##                                          8(11/25) Installing pcre2 (10.39-r0)
7  6% ###                                         87  7% ###                                         8(12/25) Installing git (2.34.1-r0)
7  7% ###                                         87 10% ####                                        87 11% #####                                       87 14% ######                                      87 16% #######                                     87 18% ########                                    87 21% #########                                   87 23% ##########                                  8(13/25) Installing libbz2 (1.0.8-r1)
7 23% ##########                                  8(14/25) Installing libffi (3.4.2-r1)
7 24% ##########                                  8(15/25) Installing gdbm (1.22-r0)
7 24% ##########                                  8(16/25) Installing xz-libs (5.2.5-r0)
7 24% ##########                                  8(17/25) Installing libgcc (10.3.1_git20211027-r0)
7 24% ##########                                  8(18/25) Installing libstdc++ (10.3.1_git20211027-r0)
7 24% ##########                                  8(19/25) Installing mpdecimal (2.5.1-r1)
7 27% ###########                                 8(20/25) Installing sqlite-libs (3.36.0-r0)
7 27% ############                                8(21/25) Installing python3 (3.9.7-r4)
7 28% ############                                87 31% ##############                              87 32% ##############                              87 33% ##############                              87 34% ##############                              87 34% ###############                             87 35% ###############                             87 36% ###############                             87 36% ################                            87 37% ################                            87 38% ################                            87 38% #################                           87 39% #################                           87 40% #################                           87 40% ##################                          87 41% ##################                          87 42% ##################                          87 43% ##################                          87 43% ###################                         87 44% ###################                         87 45% ###################                         87 45% ####################                        87 46% ####################                        87 47% ####################                        87 47% #####################                       87 48% #####################                       87 49% #####################                       87 50% ######################                      87 51% ######################                      87 52% ######################                      87 52% #######################                     87 53% #######################                     87 54% #######################                     87 54% ########################                    87 55% ########################                    87 56% ########################                    87 56% #########################                   87 57% #########################                   87 58% #########################                   87 59% #########################                   87 59% ##########################                  87 60% ##########################                  87 61% ##########################                  87 61% ###########################                 87 62% ###########################                 87 63% ###########################                 87 63% ############################                87 64% ############################                87 66% #############################               87 67% #############################               87 68% #############################               87 68% ##############################              87 69% ##############################              87 70% ##############################              87 70% ###############################             87 71% ###############################             87 72% ###############################             87 72% ################################            87 73% ################################            87 74% ################################            87 75% #################################           87 76% #################################           87 77% #################################           87 78% ##################################          87 79% ##################################          87 79% ###################################         87 80% ###################################         87 81% ###################################         87 81% ####################################        87 82% ####################################        87 83% ####################################        87 84% ####################################        87 84% #####################################       87 85% #####################################       87 86% ######################################      87 87% ######################################      87 88% ######################################      87 88% #######################################     87 89% #######################################     87 90% #######################################     87 90% ########################################    87 91% ########################################    87 92% ########################################    87 93% ########################################    87 93% #########################################   87 94% #########################################   87 95% #########################################   87 95% ##########################################  8(22/25) Installing speedtest-cli (2.1.3-r1)
7 96% ##########################################  8(23/25) Installing libunistring (0.9.10-r1)
7 96% ##########################################  8(24/25) Installing libidn2 (2.3.2-r0)
7 98% ########################################### 87 99% ########################################### 8(25/25) Installing wget (1.21.2-r2)
7 99% ########################################### 87100% ############################################8Executing busybox-1.34.1-r3.trigger
Executing ca-certificates-20211220-r0.trigger
OK: 73 MiB in 39 packages
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
+ curl -X POST https://api.telegram.org/bot5198577811:AAFUlwJy71UPIrQX58MMXgMX-rmP9AFT9hc/sendMessage -d chat_id=-1001570035437 -d text=Job Jenkins success
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100   325  100   278  100    47    540     91 --:--:-- --:--:-- --:--:--   633
{"ok":true,"result":{"message_id":10,"sender_chat":{"id":-1001570035437,"title":"klimoff_bot","username":"klimoff_bot","type":"channel"},"chat":{"id":-1001570035437,"title":"klimoff_bot","username":"klimoff_bot","type":"channel"},"date":1649081861,"text":"Job Jenkins success"}}
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
